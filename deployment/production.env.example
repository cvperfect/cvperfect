# CVPerfect Production Environment Configuration
# Copy to .env.production and fill in actual values

# ====================================
# CORE APPLICATION SETTINGS
# ====================================

NODE_ENV=production
NEXT_PUBLIC_BASE_URL=https://cvperfect.pl
PORT=3000

# Bundle optimization target (current: 20.3kB)
BUNDLE_SIZE_LIMIT=280000

# ====================================
# AI & ML SERVICES
# ====================================

# Groq AI API
GROQ_API_KEY=gsk_your_groq_api_key_here

# ML Inference Server
ML_SERVER_URL=https://cvperfect-ml-prod.railway.app
ML_SERVER_API_KEY=cvp_prod_your_ml_server_key_here
ML_SERVER_TIMEOUT=5000

# ====================================
# DATABASE & STORAGE
# ====================================

# Supabase (Production)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your_service_role_key
SUPABASE_PROJECT_ID=your_supabase_project_id
SUPABASE_ACCESS_TOKEN=sbp_your_access_token

# Database connection pooling
DATABASE_MAX_CONNECTIONS=20
DATABASE_IDLE_TIMEOUT=30000

# ====================================
# PAYMENT PROCESSING
# ====================================

# Stripe (Production)
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Pricing (PLN)
BASIC_PLAN_PRICE=1999    # 19.99 PLN
GOLD_PLAN_PRICE=4900     # 49.00 PLN
PREMIUM_PLAN_PRICE=7900  # 79.00 PLN

# ====================================
# AUTHENTICATION & SECURITY
# ====================================

# JWT Configuration
JWT_SECRET=your_super_secure_jwt_secret_key_256_bits_minimum
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d

# API Keys
API_KEY_ENCRYPTION_KEY=your_api_key_encryption_key_32_chars
ADMIN_API_KEY=cvp_prod_your_admin_api_key_here

# Session Security
SESSION_SECRET=your_session_secret_key
ENCRYPTION_KEY=your_data_encryption_key_32_chars

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000    # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
ML_RATE_LIMIT_MAX=10

# ====================================
# EMAIL & NOTIFICATIONS
# ====================================

# Email (Gmail/SMTP)
GMAIL_USER=noreply@cvperfect.pl
GMAIL_PASS=your_gmail_app_password
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587

# Notification Webhooks
SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
DISCORD_WEBHOOK=https://discord.com/api/webhooks/YOUR/WEBHOOK

# ====================================
# MONITORING & ANALYTICS
# ====================================

# Performance Monitoring
MONITORING_WEBHOOK=https://your-monitoring-service.com/webhook
PERFORMANCE_THRESHOLD_MS=2000
ERROR_TRACKING_DSN=https://your-error-tracking-dsn

# Analytics
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
HOTJAR_SITE_ID=your_hotjar_site_id

# ====================================
# CDN & STATIC ASSETS
# ====================================

# Cloudflare
CLOUDFLARE_ZONE_ID=your_cloudflare_zone_id
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token

# Image optimization
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# ====================================
# DEPLOYMENT SERVICES
# ====================================

# Vercel (Frontend)
VERCEL_TOKEN=your_vercel_deployment_token
VERCEL_ORG_ID=your_vercel_org_id
VERCEL_PROJECT_ID=your_vercel_project_id

# Railway (ML Server)
RAILWAY_TOKEN=your_railway_deployment_token

# Docker Registry
DOCKER_REGISTRY=ghcr.io
DOCKER_IMAGE=cvperfect/ml-inference

# ====================================
# REDIS CACHE (Optional)
# ====================================

REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_redis_password
REDIS_TTL=3600

# ====================================
# FEATURE FLAGS
# ====================================

# ML Features
ENABLE_ML_OPTIMIZATION=true
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_A_B_TESTING=true

# Security Features
ENABLE_RATE_LIMITING=true
ENABLE_SECURITY_HEADERS=true
ENABLE_AUDIT_LOGGING=true

# Performance Features
ENABLE_BUNDLE_ANALYSIS=true
ENABLE_PERFORMANCE_MONITORING=true

# ====================================
# COMPLIANCE & GDPR
# ====================================

# Data retention (days)
SECURITY_LOGS_RETENTION=90
AUDIT_LOGS_RETENTION=365
USER_DATA_RETENTION=1095  # 3 years

# GDPR Settings
ENABLE_GDPR_COMPLIANCE=true
DATA_PROCESSING_LEGAL_BASIS=consent
DEFAULT_DATA_LOCATION=EU

# ====================================
# DEVELOPMENT & DEBUG (Production: false)
# ====================================

DEBUG=false
VERBOSE_LOGGING=false
ENABLE_MOCK_PAYMENTS=false
SKIP_SECURITY_CHECKS=false

# ====================================
# BACKUP & DISASTER RECOVERY
# ====================================

# Automated backups
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_URL=s3://your-backup-bucket

# ====================================
# HEALTH CHECKS & MONITORING
# ====================================

# Health check intervals (seconds)
HEALTH_CHECK_INTERVAL=30
PERFORMANCE_CHECK_INTERVAL=60
SECURITY_CHECK_INTERVAL=300

# Alert thresholds
CPU_ALERT_THRESHOLD=80
MEMORY_ALERT_THRESHOLD=85
RESPONSE_TIME_ALERT_MS=2000
ERROR_RATE_ALERT_PERCENT=5

# ====================================
# SCALING CONFIGURATION
# ====================================

# Auto-scaling settings
MIN_INSTANCES=2
MAX_INSTANCES=10
SCALE_UP_THRESHOLD=70
SCALE_DOWN_THRESHOLD=30

# Load balancing
LOAD_BALANCER_ALGORITHM=round_robin
SESSION_AFFINITY=false

# ====================================
# LOGGING & OBSERVABILITY
# ====================================

# Log levels: error, warn, info, debug
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_STRUCTURED_LOGGING=true

# Log destinations
LOG_TO_CONSOLE=true
LOG_TO_FILE=false
LOG_TO_EXTERNAL_SERVICE=true

# External logging service
DATADOG_API_KEY=your_datadog_api_key
LOGTAIL_SOURCE_TOKEN=your_logtail_token

# ====================================
# CUSTOM BUSINESS LOGIC
# ====================================

# CV Processing
MAX_CV_SIZE_MB=5
SUPPORTED_FORMATS=pdf,docx,txt
PROCESSING_TIMEOUT_MS=10000

# ML Model Configuration
MODEL_VERSION=cv-optimizer-v1.0
FALLBACK_TO_GROQ=true
CACHE_ML_RESULTS=true
ML_CACHE_TTL=300

# Template System
DEFAULT_TEMPLATE=standard
TEMPLATE_CACHE_TTL=86400  # 24 hours

# ====================================
# SECRETS MANAGEMENT
# ====================================

# Vault/Secrets Manager (if using external service)
VAULT_ENDPOINT=https://your-vault-service.com
VAULT_TOKEN=your_vault_access_token
SECRETS_PREFIX=cvperfect/production

# Encryption at rest
ENCRYPT_SENSITIVE_DATA=true
ENCRYPTION_ALGORITHM=AES-256-GCM